<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TideTurner Florida | Live Coastal Intelligence</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Manrope:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="noise"></div>
  <header class="topbar">
    <div class="brand">
      <span class="brand-mark">◉</span>
      <div>
        <strong>TideTurner Florida</strong>
        <p>Live Coastal Intelligence + Policy Studio</p>
      </div>
    </div>
    <nav>
      <button class="tab active" data-view="overview">Overview</button>
      <button class="tab" data-view="live-data">Live Data</button>
      <button class="tab" data-view="studio">Policy Studio</button>
      <button class="tab" data-view="community">Community Board</button>
    </nav>
  </header>

  <main>
    <section id="overview" class="view active">
      <div class="hero card">
        <div>
          <p class="eyebrow">Congressional App Challenge Concept</p>
          <h1>Build Florida resilience from real conditions, not fake numbers.</h1>
          <p class="lede">This app mixes live NOAA weather alerts, live ocean conditions near Florida, and official Florida county exposure data. Then it lets users design interventions and see modeled outcomes in one place.</p>
          <div class="hero-actions">
            <button id="jump-live" class="btn btn-primary">Open Live Data</button>
            <button id="jump-studio" class="btn btn-ghost">Launch Policy Studio</button>
          </div>
        </div>
        <div class="hero-metrics" id="headline-metrics"></div>
      </div>

      <div class="split">
        <article class="card">
          <h2>Why Florida needs this</h2>
          <p>Residents and students hear about flooding, harmful algal blooms, and storm impacts, but planning tools are often inaccessible. TideTurner translates live data into neighborhood-level choices people can actually debate.</p>
        </article>
        <article class="card">
          <h2>Real sources used</h2>
          <ul class="clean-list">
            <li>NOAA/NWS active alerts API for Florida.</li>
            <li>Open-Meteo Marine API for offshore wave and sea temperature near Florida coasts.</li>
            <li>Official county baseline dataset in this repo (compiled from public county-level resilience references).</li>
          </ul>
        </article>
      </div>
    </section>

    <section id="live-data" class="view">
      <div class="grid-2">
        <section class="card">
          <div class="heading-row">
            <h2>Florida Live Signals</h2>
            <span id="updated-pill">Updating...</span>
          </div>
          <div class="kpi-grid live-kpis">
            <div class="kpi"><p>Active NWS Alerts (FL)</p><strong id="kpi-alerts">--</strong></div>
            <div class="kpi"><p>Max Alert Severity</p><strong id="kpi-severity">--</strong></div>
            <div class="kpi"><p>Mean Wave Height</p><strong id="kpi-wave">--</strong></div>
            <div class="kpi"><p>Mean Sea Temp</p><strong id="kpi-temp">--</strong></div>
          </div>
          <p id="live-message" class="narrative"></p>
          <ul id="alert-list" class="feed"></ul>
        </section>

        <section class="card">
          <h2>County Coastal Baseline</h2>
          <p class="lede small">Select a county to prefill the Policy Studio with real local baseline factors.</p>
          <div class="county-controls">
            <select id="county-select"></select>
            <button id="apply-county" class="btn btn-primary">Apply to Scenario</button>
          </div>
          <div id="county-facts" class="county-facts"></div>
          <canvas id="baseline-chart" width="760" height="180" aria-label="County baseline chart"></canvas>
        </section>
      </div>
    </section>

    <section id="studio" class="view">
      <div class="grid-2">
        <aside class="card controls">
          <div class="heading-row">
            <h2>Policy Studio</h2>
            <span id="budget-pill">Budget left: $42M</span>
          </div>
          <p>Allocate a hypothetical <strong>$120M</strong> county package.</p>

          <label>Living shorelines <span id="shoreline-v">20</span>%</label>
          <input type="range" id="shoreline" min="0" max="100" value="20" />

          <label>Stormwater upgrades <span id="stormwater-v">25</span>%</label>
          <input type="range" id="stormwater" min="0" max="100" value="25" />

          <label>Home elevation grants <span id="elevation-v">15</span>%</label>
          <input type="range" id="elevation" min="0" max="100" value="15" />

          <label>Heat + shade corridors <span id="shade-v">10</span>%</label>
          <input type="range" id="shade" min="0" max="100" value="10" />

          <label>Septic-to-sewer conversion <span id="septic-v">28</span>%</label>
          <input type="range" id="septic" min="0" max="100" value="28" />

          <button id="optimize" class="btn btn-primary">Auto-balance for resilience</button>
        </aside>

        <section class="card outputs">
          <h2>Scenario Outcomes (2040)</h2>
          <div class="kpi-grid">
            <div class="kpi"><p>Flooded road days</p><strong id="flood">--</strong></div>
            <div class="kpi"><p>Annual loss per household</p><strong id="loss">--</strong></div>
            <div class="kpi"><p>Water quality index</p><strong id="water">--</strong></div>
            <div class="kpi"><p>Livability score</p><strong id="score">--</strong></div>
          </div>
          <div class="bar-wrap">
            <p>Neighborhood stress</p>
            <div class="bar"><span id="stress-bar"></span></div>
          </div>
          <p id="narrative" class="narrative"></p>
          <canvas id="spark" width="760" height="180" aria-label="Projection chart"></canvas>
        </section>
      </div>
    </section>

    <section id="community" class="view">
      <div class="card">
        <h2>Community Board</h2>
        <p>Post a short proposal and vote on ideas you want local leaders to test in the studio.</p>
        <form id="idea-form" class="idea-form">
          <input id="idea-title" maxlength="60" placeholder="Proposal title (e.g., Cool Corridors for Little Haiti)" required />
          <textarea id="idea-detail" maxlength="180" placeholder="One sentence describing your plan." required></textarea>
          <button class="btn btn-primary" type="submit">Post idea</button>
        </form>
        <div id="idea-list" class="idea-list"></div>
      </div>
    </section>
  </main>

  <footer>
    Built for Florida civic innovation • Data: NWS, Open-Meteo Marine, county baseline file in repo
  </footer>

  <script src="script.js"></script>
</body>
</html>
